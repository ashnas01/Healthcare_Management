{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-03-19 12:16:50.130662",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Pharmacy Billing",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% if doc.medicines|length <= 8 %}\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <style>\n            @page {\n                size: A4 portrait;\n                margin: 3mm;\n            }\n            \n            .page-container {\n                font-family: Arial, sans-serif;\n                width: 210mm;\n                height: 148.5mm; /* Half A4 size */\n                page-break-after: always;\n                border: 1px solid #000;\n                padding: 0.5mm;\n                overflow: hidden;\n                position: relative;\n            }\n            \n            .invoice-table {\n                width: 100%;\n                border-collapse: collapse;\n                margin: -1px 0 2px 0;\n            } \n            \n            .invoice-table td {\n                border: 1px solid black;\n                padding: 1px;\n                margin-top: 0px;\n                font-size: 11px; /* Minimum font size */\n            }\n            \n            .content-wrapper {\n                display: flex;\n                flex-direction: column;\n                height: calc(100% - 25px);\n            }\n            \n            .order-details {\n                width: 100%;\n                border-collapse: collapse;\n                font-size: 11px; /* Minimum font size */\n                flex: 0 0 auto;\n                border-spacing: 0;\n            }\n            \n            .order-details th, .order-details td {\n                padding: 0px; /* Reduce padding to fit more rows */\n                font-size: 11px; /* Minimum font size */\n                line-height: 0.7; /* Reduce extra spacing */\n            }\n            \n            .order-details tr.header-row th {\n                border: 1px solid black;\n                padding: 0px;\n                text-align: center;\n                font-size: 11px;\n            }\n            \n            .order-details tr.product-row td {\n                border-left: 1px solid black;\n                border-right: 1px solid black;\n                border-top: none;\n                border-bottom: none;\n                padding: 0px;\n                font-size: 11px;\n                line-height: 0.8;\n                margin: 0;\n            }\n            \n            .order-details tr.total-row th {\n                border: 1px solid black;\n                padding: 0px;\n                font-size: 11px;\n            }\n            \n            .footer-container {\n                font-size: 11px;\n                margin-top: 1px;\n                flex: 0 0 auto;\n                width: 100%;\n            }\n            \n            .footer-container p {\n                margin: 0;\n                line-height: 1;\n            }\n            \n            .footer-flex {\n                display: flex;\n                justify-content: space-between;\n                width: 100%;\n            }\n            \n            .refund-policy {\n                margin: 0;\n                line-height: 1;\n            }\n            \n            .delivery-contact {\n                text-align: center;\n                margin-top: 2px;\n            }\n    \n       \n        </style>\n    </head>\n    \n    <body>\n        <div class=\"page-container\">\n            <table class=\"invoice-table\">\n                <tr>\n                    <td style=\"text-align:right; width: 27.5%;\">\n                        <img src=\"/assets/healthcare_management/images/final_logo_3.png\" \n                             alt=\"Clinic Logo\" \n                             style=\"object-fit: contain; scale: 1.5\">\n                    </td>\n                    <td style=\"text-align: center; font-size: 11px; width: 22.5%;\">\n                        <br>\n                        <span style=\"font-weight: bold;\">\n                                kowdiar,Trivandrum-695003<br>\n                                Phone:0471-4612849,8891079555<br>\n                                E-drrasheeds@gmail.com\n                        </span>\n                    </td>\n                    \n                    <td style=\"text-align:left; font-size: 12px; width: 50%; font-weight: bold;\">\n                            {% set patient_doc = frappe.get_doc(\"Patient\", {'patient_name': doc.patient_name}) %}\n                            <span>Token No&nbsp;:&nbsp;&nbsp;</span> <br>\n                            <span>Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;<span style=\"font-size:14px;\">{{ doc.patient_name }}</span></span><br>\n                            <span>Mobile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;{{ patient_doc.mobile if patient_doc.mobile else '' }}</span><br>\n                            <span>\n                                Address&nbsp;&nbsp;:&nbsp;&nbsp;{{ patient_doc.custom_address_line }},&nbsp;{{ patient_doc.custom_city }},\n                                &nbsp;{{ patient_doc.custom_pincode }},&nbsp;{{ patient_doc.custom_state }},&nbsp;{{ patient_doc.custom_country }}\n                            </span>\n                            <br>\n                            {% set doctor_doc = frappe.get_doc(\"Healthcare Practitioner\", doc.healthcare_practitioner) %}\n                            <span>Doctor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;<span style=\"font-size:14px;\">{{ doctor_doc.practitioner_name }}</span></span> \n                    </td>\n                </tr> \n            </table>\n    \n            <div class=\"content-wrapper\">\n                <table class=\"order-details\" style=\"height: 140px;\">\n                    <tr class=\"header-row\">\n                        <th colspan=\"3\" style=\"width: 40%; font-size: 11px; text-align: start;\">\n                            <span style=\"font-weight: bold;\">\n                                <br>\n                                GSTIN: 32CHZPS7837K1Z9<br><br>\n                                DL NO: KL-IVM-100946, KL-TVM-100947\n                            </span>\n                        </th>\n                        <th colspan=\"3\" style=\"width: 30%; font-size: 22px; font-weight: bold; text-align: center; line-height: 50px; height: 50px;\">\n                            GST INVOICE\n                        </th>\n                        <th colspan=\"5\" style=\"width: 30%; font-size: 11px; text-align: start;\">\n                            <span style=\"font-weight: bold;\">\n                                Invoice No: {{ doc.pharmacy_invoice_number }}<br><br>\n                                Billed by: {{ frappe.session.user }}<br><br>\n                                Date and Time: {{ doc.date_and_time }}\n                            </span>\n                        </th>\n                    </tr>\n                    \n                    <tr class=\"header-row\">\n                        <th style=\"width: 2%; \"><span style=\"font-weight: bold;\">SN</span></th>\n                        <th style=\"width: 5%; \"><span style=\"font-weight: bold;\">HSN</span></th>\n                        <th style=\"width: 38%; \"><span style=\"font-weight: bold;\">PRODUCT NAME</span></th>\n                        <th style=\"width: 8%; \"><span style=\"font-weight: bold;\">BATCH</span></th>\n                        <th style=\"width: 14%; \"><span style=\"font-weight: bold;\">EXPIRY DATE</span></th>\n                        <th style=\"width: 6%; \"><span style=\"font-weight: bold;\">QTY</span></th>\n                        <th style=\"width: 9%; \"><span style=\"font-weight: bold;\">MRP</span></th>\n                        <th style=\"width: 5%; \"><span style=\"font-weight: bold;\">DISC</span></th>\n                        <th style=\"width: 2%; \"><span style=\"font-weight: bold;\">GST</span></th>\n                        <th style=\"width: 14%; \"><span style=\"font-weight: bold;\">AMOUNT</span></th>\n                    </tr>\n    \n                    {% set max_rows = 8 %}\n                    {% set num_items = doc.medicines|length %}\n                    {% for item in doc.medicines[:max_rows] %}\n                    <tr class=\"product-row\">\n                        <td>{{ loop.index }}</td>\n                        <td style=\"text-align: start;\">{{ item.hsn }}</td>\n                        <td style=\"text-align: start;\">{{ item.item_name }}</td>\n                        <td style=\"text-align: start;\">{{ item.batch }}</td>\n                        <td style=\"text-align: center;\">\n                            {% if item.expiry_date %}\n                              {{ frappe.utils.formatdate(item.expiry_date, \"dd-MM-yyyy\") }}\n                            {% else %}\n                                -\n                            {% endif %}\n                        </td>\n                        <td style=\"text-align: center;\">{{ item.qty }}</td>\n                        <td style=\"text-align: end;\">\u20b9 {{ '%.2f'| format(item.mrp) }}</td>\n                        <td style=\"text-align: end;\">{{ '%.2f'| format(item.discount_) }}%</td>\n                        <td style=\"text-align: end;\">{{ item.gst_ }}%</td>\n                        <td style=\"text-align: end;\">\u20b9 {{ '%.2f'| format(item.amount) }}</td>\n                    </tr>\n                    {% endfor %}\n                    \n                    <!-- Fill empty rows if less than 8 items -->\n                    {% for i in range(num_items, max_rows) %}\n                    <tr class=\"product-row\">\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                    </tr>\n                    {% endfor %}\n    \n                    <!-- Product rows remain same -->\n    \n                    <tr class=\"total-row\">\n                        <th colspan=\"6\" style=\"width: 85%; font-size: 12px; border-bottom: 1px solid black;\">\n                            <span style=\"font-weight: bold;\">{{ doc.custom_amount_in_words }}</span>\n                            <p style=\"font-weight: bold; margin-top: 20px;\">\n                                TOTAL ITEM : {{ doc.custom_total_item }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n                                TOTAL QTY: {{ doc.total_quantity }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n                                YOU SAVED RUPEES :\u20b9 {{ \"{:,.2f}\".format(doc.saved_amount | float) }}\n                            </p>\n                        </th>\n                        <th colspan=\"5\" style=\"width: 15%; font-size: 11px; border-bottom: 1px solid black; text-align: end;\">\n                            <strong>SUB TOTAL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_sub_total_before_tax) }}</strong><br><br>\n                            <strong>SGST PAYABLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_total_cgst) }}</strong><br><br>\n                            <strong>CGST PAYABLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_total_cgst) }}</strong>\n                        </th>\n                    </tr>\n                </table>\n                \n                <div class=\"table-border-close\"></div>\n                \n                <!--<div class=\"spacer\"></div>-->\n    \n                <!-- Updated Footer Section -->\n                <div class=\"footer-container\">\n                    <div class=\"refund-policy\" style=\"font-size: 9px;\">\n                        <p>All medicines purchased from our pharmacy can be refunded if not used, on producing original pharmacy bill.</p>\n                        <p>Items return for refunding should be in good condition.</p>\n                        <p>Refrigerated and bottled medicines will not be considered for refunding.</p>\n                    </div>\n    \n                    <div class=\"footer-flex\">\n                        <span style=\"font-weight: bold; text-align: start;\">Pharmacist</span>\n                        <span class=\"delivery-contact\" style=\"text-align: center;\" >For free home delivery please contact : 9895116444</span>\n                        <span style=\"font-weight: bold; text-align: end; font-size: 18px;\">GRAND TOTAL &nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_rounded_total_amount) }}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    </body>\n    </html>\n{% endif %}\n\n{% if doc.medicines|length > 8 %}\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <style>\n            @page {\n                size: A4 portrait;\n                margin: 3mm;\n            }\n            \n            .page-container {\n                font-family: Arial, sans-serif;\n                width: 210mm;\n                height: 297mm; /* Full A4 size */\n                page-break-after: always;\n                border: 1px solid #000;\n                padding: 0.5mm;\n                overflow: hidden;\n                position: relative;\n            }\n            \n            .invoice-table {\n                width: 100%;\n                border-collapse: collapse;\n                margin: -1px 0 2px 0;\n            } \n            \n            .invoice-table td {\n                border: 1px solid black;\n                padding: 1px;\n                margin-top: 0px;\n                font-size: 11px; /* Minimum font size */\n            }\n            \n            .content-wrapper {\n                display: flex;\n                flex-direction: column;\n                height: calc(100% - 25px);\n            }\n            \n            .order-details {\n                width: 100%;\n                border-collapse: collapse;\n                font-size: 11px; /* Minimum font size */\n                flex: 0 0 auto;\n                border-spacing: 0;\n            }\n            \n            .order-details th, .order-details td {\n                padding: 0px; /* Reduce padding to fit more rows */\n                font-size: 11px; /* Minimum font size */\n                line-height: 0.7; /* Reduce extra spacing */\n            }\n            \n            .order-details tr.header-row th {\n                border: 1px solid black;\n                padding: 0px;\n                text-align: center;\n                font-size: 11px;\n            }\n            \n            .order-details tr.product-row td {\n                border-left: 1px solid black;\n                border-right: 1px solid black;\n                border-top: none;\n                border-bottom: none;\n                padding: 0px;\n                font-size: 11px;\n                line-height: 0.8;\n                margin: 0;\n            }\n            \n            .order-details tr.total-row th {\n                border: 1px solid black;\n                padding: 0px;\n                font-size: 11px;\n            }\n            \n            .footer-container {\n                font-size: 11px;\n                margin-top: 1px;\n                flex: 0 0 auto;\n                width: 100%;\n                bottom: 0;\n            }\n            \n            .footer-container p {\n                margin: 0;\n                line-height: 1;\n            }\n            \n            .footer-flex {\n                display: flex;\n                justify-content: space-between;\n                width: 100%;\n            }\n            \n            .refund-policy {\n                margin: 0;\n                line-height: 1;\n            }\n            \n            .delivery-contact {\n                text-align: center;\n                margin-top: 2px;\n            }\n    \n       \n        </style>\n    </head>\n    \n    <body>\n        <div class=\"page-container\">\n            <table class=\"invoice-table\">\n                <tr>\n                    <td style=\"text-align:right; width: 27.5%;\">\n                        <img src=\"/assets/healthcare_management/images/final_logo_3.png\" \n                             alt=\"Clinic Logo\" \n                             style=\"object-fit: contain; scale: 1.5\">\n                    </td>\n                    <td style=\"text-align: center; font-size: 11px; width: 22.5%;\">\n                        <br>\n                        <span style=\"font-weight: bold;\">\n                                kowdiar,Trivandrum-695003<br>\n                                Phone:0471-4612849,8891079555<br>\n                                E-drrasheeds@gmail.com\n                        </span>\n                    </td>\n                    \n                    <td style=\"text-align:left; font-size: 12px; width: 50%; font-weight: 900;\">\n                            {% set patient_doc = frappe.get_doc(\"Patient\", {'patient_name': doc.patient_name}) %}\n                            <span>Token No&nbsp;:&nbsp;&nbsp;</span> <br>\n                            <span>Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;<span style=\"font-size:15px;\">{{ doc.patient_name }}</span></span><br>\n                            <span>Mobile&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;{{ patient_doc.mobile if patient_doc.mobile else '' }}</span><br>\n                            <span>\n                                Address&nbsp;&nbsp;:&nbsp;&nbsp;{{ patient_doc.custom_address_line }},&nbsp;{{ patient_doc.custom_city }},\n                                &nbsp;{{ patient_doc.custom_pincode }},&nbsp;{{ patient_doc.custom_state }},&nbsp;{{ patient_doc.custom_country }}\n                            </span>\n                            <br>                            \n                            {% set doctor_doc = frappe.get_doc(\"Healthcare Practitioner\", doc.healthcare_practitioner) %}\n                            <span>Doctor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;<span style=\"font-size:15px;\">{{ doctor_doc.practitioner_name }}</span></span> \n                    </td>\n                </tr> \n            </table>\n    \n            <div class=\"content-wrapper\">\n                <table class=\"order-details\">\n                    <tr class=\"header-row\">\n                        <th colspan=\"3\" style=\"width: 40%; font-size: 11px; text-align: start;\">\n                            <span style=\"font-weight: bold;\">\n                                <br>\n                                GSTIN: 32CHZPS7837K1Z9<br><br>\n                                DL NO: KL-IVM-100946, KL-TVM-100947\n                            </span>\n                        </th>\n                        <th colspan=\"3\" style=\"width: 30%; font-size: 22px; font-weight: bold; text-align: center; line-height: 50px; height: 50px;\">\n                            GST INVOICE\n                        </th>\n                        <th colspan=\"5\" style=\"width: 30%; font-size: 11px; text-align: start;\">\n                            <span style=\"font-weight: bold;\">\n                                Invoice No: {{ doc.pharmacy_invoice_number }}<br><br>\n                                Billed by: {{ frappe.session.user }}<br><br>\n                                Date and Time: {{ doc.date_and_time }}\n                            </span>\n                        </th>\n                    </tr>\n                    \n                    <tr class=\"header-row\">\n                        <th style=\"width: 2%; \"><span style=\"font-weight: bold;\">SN</span></th>\n                        <th style=\"width: 5%; \"><span style=\"font-weight: bold;\">HSN</span></th>\n                        <th style=\"width: 38%; \"><span style=\"font-weight: bold;\">PRODUCT NAME</span></th>\n                        <th style=\"width: 8%; \"><span style=\"font-weight: bold;\">BATCH</span></th>\n                        <th style=\"width: 14%; \"><span style=\"font-weight: bold;\">EXPIRY DATE</span></th>\n                        <th style=\"width: 6%; \"><span style=\"font-weight: bold;\">QTY</span></th>\n                        <th style=\"width: 9%; \"><span style=\"font-weight: bold;\">MRP</span></th>\n                        <th style=\"width: 5%; \"><span style=\"font-weight: bold;\">DISC</span></th>\n                        <th style=\"width: 2%; \"><span style=\"font-weight: bold;\">GST</span></th>\n                        <th style=\"width: 14%; \"><span style=\"font-weight: bold;\">AMOUNT</span></th>\n                    </tr>\n    \n                    {% set max_rows = 25 %}\n                    {% set num_items = doc.medicines|length %}\n                    {% for item in doc.medicines[:max_rows] %}\n                    <tr class=\"product-row\">\n                        <td>{{ loop.index }}</td>\n                        <td style=\"text-align: start;\">{{ item.hsn }}</td>\n                        <td style=\"text-align: start;\">{{ item.item_name }}</td>\n                        <td style=\"text-align: start;\">{{ item.batch }}</td>\n                        <td style=\"text-align: center;\">\n                            {% if item.expiry_date %}\n                              {{ frappe.utils.formatdate(item.expiry_date, \"dd-MM-yyyy\") }}\n                            {% else %}\n                                -\n                            {% endif %}\n                        </td>\n                        <td style=\"text-align: center;\">{{ item.qty }}</td>\n                        <td style=\"text-align: end;\">\u20b9 {{ '%.2f'| format(item.mrp) }}</td>\n                        <td style=\"text-align: end;\">{{ '%.2f'| format(item.discount_) }}%</td>\n                        <td style=\"text-align: end;\">{{ item.gst_ }}%</td>\n                        <td style=\"text-align: end;\">\u20b9 {{ '%.2f'| format(item.amount) }}</td>\n                    </tr>\n                    {% endfor %}\n                    \n                    <!-- Fill empty rows if less than 25 items -->\n                    {% for i in range(num_items, max_rows) %}\n                    <tr class=\"product-row\">\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                        <td>&nbsp;</td>\n                    </tr>\n                    {% endfor %}\n    \n                    <!-- Product rows remain same -->\n    \n                    <tr class=\"total-row\">\n                        <th colspan=\"6\" style=\"width: 85%; font-size: 12px; border-bottom: 1px solid black;\">\n                            <span style=\"font-weight: bold;\">{{ doc.custom_amount_in_words }}</span>\n                            <p style=\"font-weight: bold; margin-top: 20px;\">\n                                TOTAL ITEM : {{ doc.custom_total_item }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n                                TOTAL QTY: {{ doc.total_quantity }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \n                                YOU SAVED RUPEES :\u20b9 {{ \"{:,.2f}\".format(doc.saved_amount | float) }}\n                            </p>\n                        </th>\n                        <th colspan=\"5\" style=\"width: 15%; font-size: 11px; border-bottom: 1px solid black; text-align: end;\">\n                            <strong>SUB TOTAL &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_sub_total_before_tax) }}</strong><br><br>\n                            <strong>SGST PAYABLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_total_cgst) }}</strong><br><br>\n                            <strong>CGST PAYABLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_total_cgst) }}</strong>\n                        </th>\n                    </tr>\n                </table>\n                \n                <div class=\"table-border-close\"></div>\n                \n                <!--<div class=\"spacer\"></div>-->\n    \n                <!-- Updated Footer Section -->\n                <div class=\"footer-container\">\n                    <h6 style=\"color: cadetblue;\"><u>Terms and Conditions :</u></h6>\n                    <div class=\"refund-policy\" style=\"font-size: 11px;\">\n                        <ul>\n                            <p>All medicines purchased from our pharmacy can be refunded if not used, on producing original pharmacy bill.</p>\n                            <p>Items return for refunding should be in good condition.</p>\n                            <p>Refrigerated and bottled medicines will not be considered for refunding.</p>\n                        </ul>\n                    </div>\n                    <br>\n                    <div class=\"footer-flex\">\n                        <span style=\"font-weight: bold; text-align: start; font-size: 12px;\">Pharmacist</span>\n                        <span class=\"delivery-contact\" style=\"text-align: center; font-size: 12px;\" >For free home delivery please contact : 9895116444</span>\n                        <span style=\"font-weight: bold; text-align: end; font-size: 18px;\">GRAND TOTAL &nbsp;&nbsp;&nbsp;\u20b9 {{ '%.2f'| format(doc.custom_rounded_total_amount) }}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    </body>\n    </html>\n{% endif %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-03 14:24:07.168454",
 "modified_by": "Administrator",
 "module": "Health Care Management",
 "name": "Pharmacy Inv",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}